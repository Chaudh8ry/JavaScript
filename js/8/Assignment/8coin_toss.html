<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Coin Toss Guess</title>
</head>
<body>
  <p>Choose One:</p>
  <button onclick="
    playGame('Heads');
  ">Heads</button>

  <button onclick="
    playGame('Tails');
  ">Tails</button>
  
  <button onclick="
    score.win = 0;
    score.loss = 0;
    localStorage.removeItem('score');
  ">Reset</button>

  <script>
    let score = JSON.parse(localStorage.getItem('score')) || {
      win: 0,
      loss: 0
    };

    function playGame(guess){
      //Stores Computer Move
      let computerMove = computerGuess();

      //Updates Result
      let result = '';
      if(guess === 'Heads'){
        if(computerGuess === guess) result = 'You Won';
        else result = 'You Loss'; 
      }

      else if(guess === 'Tails'){
        if(computerGuess === guess) result = 'You Won';
        else result = 'You Loss';
      }

      //Updates Score
      if(result === 'You Won') score += 1;
      else score = 0;
      
      localStorage.setItem('score',JSON.stringify('score'));
    
      alert(`You Choose ${guess} and System choose ${computerMove}, ${result}.
${score}`);
    
      //Function for Computer Move
      function computerGuess(){
        let num = Math.random();
        if(num <= 1/2) return 'Heads';
        else return 'Tails';
      }
    }
  </script>
</body>
</html>